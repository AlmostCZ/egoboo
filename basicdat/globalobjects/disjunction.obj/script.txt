IfHitGround				// Make a sound
  tmpargument = 0			  //
  PlaySound				  

//Display a message
IfTakenOut
  SetTargetToWhoeverIsHolding
    IfTargetIsAPlayer
      tmpargument = 3
      SendMessageNear
  
//Tell them what they found!
IfGrabbed
  SetTargetToWhoeverIsHolding		  //
  IfTargetIsAPlayer			  //
    tmpargument = 0			  //
    SendMessageNear			  //

IfUsed
  SetTargetToWhoeverIsHolding
  tmpx = targetmana
  tmpy = 10
  IfXIsMoreThanY
    tmpx = targetmanaflow
    GetContent
    tmpy = tmpargument			//Current charge
    IfXIsMoreThanY
      tmpx = 2650				//Max charge
      IfYIsLessThanX
        tmpargument = 0
        tmpx = targetx
        tmpy = targety
        tmpdistance = targetz			//spelly effect
        SpawnExactParticle
        tmpargument = 7
        CostTargetMana
        GetContent
        tmpargument = tmpargument + 7		//Cast speed
        SetContent
Else
  GetContent
  tmpx = tmpargument
  tmpy = 0
  IfXIsMoreThanY
  
    // Make the target shoot
    SetTargetToWhoeverIsHolding
      tmpargument = ACTIONZA
      CorrectActionForHand
      TargetDoAction
		
    tmpargument = 50
    SetReloadTime
    tmpy = 2650
    IfXIsMoreThanY
      tmpargument = 1
      PlaySound
      tmpx = targetx
      tmpy = targety
      tmpdistance = targetz
      SpawnExactParticle
      SendMessageNear
      DisenchantAll
    Else
      tmpargument = 2
      SendMessageNear
  tmpargument = 0
  SetContent

End					// All done
